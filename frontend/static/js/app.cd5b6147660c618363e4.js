webpackJsonp([1],{"+fao":function(e,t){},"/mkL":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("nknE"),g=a(v),y=n("XrI8"),w=a(y);n("U9q5");var E=n("X7LF"),_=a(E),k=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,i.default)(t,[{key:"renderContent",value:function(e){return e.replace(/#\(([\u4e00-\u9fa5a-z]+)\)/g,function(e,t){var n=_.default.indexOf(t);return n>-1?'<div class="msg-emoji" style="background-position: left '+-30*n+'px"></div>':e})}},{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"messages",ref:this.props.messagesRef},this.props.messages.map(function(t,n){return h.default.createElement("div",{key:n,className:(0,w.default)("message-item",{self:t.user===e.props.user.id})},h.default.createElement("div",{className:"avatar",style:{backgroundImage:"url("+t.user_avatar+")"}}),h.default.createElement("div",{className:"text-wrap"},h.default.createElement("div",{className:"arrow"}),h.default.createElement("p",{className:"nickname"},t.username),h.default.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:e.renderContent(t.content)}})))}))}}]),t}(h.default.Component);k.propTypes={messages:g.default.array.isRequired,messagesRef:g.default.func,user:g.default.object},t.default=k},"/qNe":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Ee/9"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n("JxW5"),u={user:{},isAuth:!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case s.SET_CURRENT_USER:return{isAuth:!(0,r.default)(t.user),user:t.user};default:return e}};t.default=o},0:function(e,t,n){e.exports=n("JkW7")},"0avv":function(e,t){},1:function(e,t){},"1opX":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("X7LF"),g=a(v),y=n("nknE"),w=a(y);n("StoJ");var E=n("jNFJ"),_=a(E),k=function(e){function t(){var e,n,a,r;(0,o.default)(this,t);for(var u=arguments.length,l=Array(u),i=0;i<u;i++)l[i]=arguments[i];return n=a=(0,d.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(l))),a.select=function(e,t){t.stopPropagation(),a.props.select(e)},r=n,(0,d.default)(a,r)}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"emojis"},g.default.map(function(t,n){return h.default.createElement("div",{className:"emoji-item",key:n,onClick:e.select.bind(e,t)},h.default.createElement("div",{className:"emoji",style:{backgroundImage:"url("+_.default+")",backgroundPosition:"left "+-30*n+"px"}}))}))}}]),t}(h.default.Component);k.propTypes={select:w.default.func.isRequired},t.default=k},"5B+t":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("t4GW"),g=a(v),y=n("nknE"),w=a(y);n("CKSk");var E=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.open=function(){n.setState({show:!0})},n.close=function(){n.setState({show:!1})},n.confirm=function(){n.props.onConfrim()},n.state={show:!1},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=h.default.createElement("div",{className:"confirm",onClick:this.close},h.default.createElement("div",{className:"confirm-content",onClick:function(e){return e.stopPropagation()}},h.default.createElement("div",{className:"main"},h.default.createElement("p",{className:"text"},this.props.text)),h.default.createElement("div",{className:"footer"},h.default.createElement("div",{className:"cancel-btn",onClick:this.close},"取消"),h.default.createElement("div",{className:"confirm-btn",onClick:this.confirm},"确定"))));return h.default.createElement(g.default,{transitionName:"popup",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.show&&e)}}]),t}(h.default.Component);E.propTypes={text:w.default.string,onConfrim:w.default.func},E.defaultProps={text:"您确定要退出登录吗"},t.default=E},"6Jhy":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("sX+2"),s=a(r),u=n("gs4M"),o=a(u),l=n("FXHS"),i=a(l),c=n("aMHb"),d=a(c),f=n("BUKd"),p=a(f),m=n("3wdz"),h=a(m),v=n("pdQP"),g=a(v),y=n("8JMs"),w=a(y),E=n("gEZ1"),_=a(E);n("8cxF");var k=n("xprl"),x=a(k),M=n("MFKX"),b=a(M),C=n("1opX"),N=a(C),S=n("/mkL"),T=a(S),j=n("I9OG"),I=a(j),P=n("nknE"),L=a(P),R=n("07LN"),z=n("sZwr");n("bB8c");var O=function(e){function t(e){(0,h.default)(this,t);var n=(0,w.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.open=function(e){e.stopPropagation(),n.selectionStart=n.refs.input.selectionStart,n.setState({show:!0})},n.close=function(){n.setState({show:!1})},n.select=function(e){n.setState({input:n.state.input+"#("+e+")"})},n.change=function(e){n.setState((0,d.default)({},e.target.name,e.target.value))},n.send=function(){n.props.sendMessage({content:n.state.input,user:n.props.user.id,user_avatar:n.props.user.avatar,username:n.props.user.username},n.scroll),n.setState({input:""})},n.go=function(){n.props.history.push("/my")},n.state={show:!1,input:""},n}return(0,_.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getMessageList();case 2:this.scroll=new I.default(this.refs.messagesWrapper,{click:!0}),this.scroll.scrollToElement(this.messagesRef.lastChild,0);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentDidUpdate",value:function(){var e=this;setTimeout(function(){e.scroll.refresh(),e.scroll.scrollToElement(e.messagesRef.lastChild,100)})}},{key:"render",value:function(){var e=this;return x.default.createElement("div",{className:"app",onClick:this.close},x.default.createElement("div",{className:"header"},x.default.createElement("div",{className:"back"}),x.default.createElement("div",{className:"text"},"We are family"),x.default.createElement("div",{className:"user",onClick:this.go},x.default.createElement(b.default,{name:"user"}))),x.default.createElement("div",{className:"messages-wrapper",ref:"messagesWrapper"},x.default.createElement(T.default,{user:this.props.user,messages:this.props.messages,messagesRef:function(t){e.messagesRef=t}})),x.default.createElement("div",{className:"bottom"},x.default.createElement("div",{className:"chat-input"},x.default.createElement("div",{className:"emoji-wrapper",onClick:this.open},x.default.createElement(b.default,{name:"emoji"})),x.default.createElement("input",{ref:"input",className:"input",name:"input",onChange:this.change,value:this.state.input}),x.default.createElement(s.default,{disabled:!this.state.input,type:"primary",size:"small",onClick:this.send},"send")),this.state.show&&x.default.createElement(N.default,{select:this.select})))}}]),t}(x.default.Component);O.propTypes={history:L.default.object,user:L.default.object,getMessageList:L.default.func,messages:L.default.array,sendMessage:L.default.func};var B=function(e){return{user:e.auth.user,messages:e.message}};t.default=(0,R.connect)(B,{getMessageList:z.getMessageList,sendMessage:z.sendMessage})(O)},"7ahg":function(e,t){},"9DcP":function(e,t){},BLtG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("tXGP"),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n("JxW5"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case s.SET_MESSAGE_LIST:return t.messages;case s.ADD_MESSAGE:return[].concat((0,r.default)(e),[t.message]);default:return e}};t.default=u},CKSk:function(e,t){},DHvs:function(e,t,n){"use strict";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";e=""+e;for(var a=e.length;a<t;a++)e=n+e;return e}function r(e){var t=e.slice(),n=void 0,a=void 0,r=void 0;for(r=t.length-1;r>0;r--)a=Math.round(Math.random()*r),n=t[r],t[r]=t[a],t[a]=n;return t}function s(e,t){var n=void 0;return function(){for(var a=this,r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];n&&clearTimeout(n),n=setTimeout(function(){e.apply(a,s)},t)}}function u(e,t){var n=void 0,a=void 0,r=void 0,s=void 0,u=void 0,o=function(){e.apply(s,u),r=a};return function(){if(a=Date.now(),u=arguments,s=this,n&&clearTimeout(n),r){var e=a-(r+t);e>=0?o():n=setTimeout(o,-e)}else o()}}function o(e,t){return Math.round(Math.random()*(t-e)+e)}Object.defineProperty(t,"__esModule",{value:!0}),t.leftpad=a,t.shuffle=r,t.debounce=s,t.throttle=u,t.getRandom=o},EHrm:function(e,t){e.exports={name:"react-chat-app",version:"1.0.0",homepage:"https://lpeihan.github.io/react-chat-app",description:"",main:"server.js",scripts:{build:"cross-env NODE_ENV=production gulp build",dev:"gulp",predeploy:"npm run build",deploy:"gh-pages -d dist"},keywords:[],author:"",license:"ISC",devDependencies:{"antd-mobile":"^2.1.11",axios:"^0.18.0","babel-core":"^6.26.0","babel-eslint":"^8.2.3","babel-loader":"^7.1.4","babel-plugin-import":"^1.7.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-preset-react":"^6.24.1","babel-preset-stage-0":"^6.24.1","better-scroll":"^1.12.1",chalk:"^2.4.0",classnames:"^2.2.6","copy-webpack-plugin":"^4.5.1","cross-env":"^5.1.6","css-loader":"^0.28.11",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-config-standard-react":"^6.0.0","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.11.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-react":"^7.7.0","eslint-plugin-standard":"^3.1.0","extract-text-webpack-plugin":"^3.0.2","file-loader":"^1.1.11","friendly-errors-webpack-plugin":"^1.7.0","gh-pages":"^1.1.0",gulp:"^3.9.1","gulp-eslint":"^4.0.2","gulp-nodemon":"^2.2.1","html-webpack-plugin":"^3.2.0","jwt-decode":"^2.2.0","node-notifier":"^5.2.1",open:"^0.0.5","optimize-css-assets-webpack-plugin":"^3.2.0",ora:"^2.0.0","postcss-loader":"^2.1.4","qiniu-js":"^2.4.0",react:"^16.4.0","react-dom":"^16.4.0","react-redux":"^5.0.7","react-router-dom":"^4.3.1",redux:"^4.0.0","redux-devtools-extension":"^2.13.2","redux-logger":"^3.0.6","redux-thunk":"^2.3.0",rimraf:"^2.6.2","run-sequence":"^2.2.1","socket.io-client":"^2.1.1","style-loader":"^0.21.0",stylus:"^0.54.5","stylus-loader":"^3.0.2","svg-inline-loader":"^0.8.0","url-loader":"^1.0.1",webpack:"^3.8.1","webpack-dev-server":"^2.9.1","webpack-merge":"^4.1.2"},dependencies:{bluebird:"^3.5.1",jsonwebtoken:"^8.3.0",koa:"^2.5.1","koa-bodyparser":"^4.2.1","koa-onerror":"^4.0.0","koa-router":"^7.4.0","koa-send":"^4.1.3","koa-static":"^4.0.3",lodash:"^4.17.10",log4js:"^2.8.0",mongoose:"^5.1.4",qiniu:"^7.2.0","react-addons-css-transition-group":"^15.6.2","socket.io":"^2.1.1",validator:"^10.3.0"}}},GrKR:function(e,t){},HkXN:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("aMHb"),s=a(r),u=n("bZQ3"),o=a(u),l=n("gs4M"),i=a(l),c=n("roKr"),d=a(c),f=n("FXHS"),p=a(f),m=n("BUKd"),h=a(m),v=n("3wdz"),g=a(v),y=n("pdQP"),w=a(y),E=n("8JMs"),_=a(E),k=n("gEZ1"),x=a(k);n("aYQW");var M=n("xprl"),b=a(M),C=n("nknE"),N=a(C),S=n("07LN"),T=n("gSIr"),j=a(T),I=n("TyI/"),P=a(I),L=n("MFKX"),R=a(L),z=n("z5PC");n("c+RJ");var O=function(e){function t(e){var n=this;(0,g.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return a.go=function(){a.props.history.replace("/login")},a.signup=function(){var e=(0,p.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,a.props.signup({username:a.username.value,password:a.password.value,passwordConfirmation:a.passwordConfirmation.value});case 4:d.default.success("注册成功",2),a.props.history.replace("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({errors:e.t0});case 11:case"end":return e.stop()}},e,n,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.onInputChange=function(e){a.setState({errors:(0,o.default)(a.state.errors,(0,s.default)({},e.target.name,""))})},a.state={errors:{username:"",password:"",passwordConfirmation:""}},a}return(0,x.default)(t,e),(0,w.default)(t,[{key:"render",value:function(){var e=this;return b.default.createElement("div",{className:"signup"},b.default.createElement(P.default,{title:"注册"}),b.default.createElement("form",{className:"form",onSubmit:this.signup},b.default.createElement(j.default,{icon:"phone",name:"username",placeholder:"请输入用户名",inputRef:function(t){return e.username=t},errorText:this.state.errors.username,onInputChange:this.onInputChange}),b.default.createElement(j.default,{icon:"password",type:"password",name:"password",placeholder:"请输入密码",inputRef:function(t){return e.password=t},errorText:this.state.errors.password,onInputChange:this.onInputChange}),b.default.createElement(j.default,{icon:"password",type:"password",name:"passwordConfirmation",placeholder:"请确认密码",inputRef:function(t){return e.passwordConfirmation=t},errorText:this.state.errors.passwordConfirmation,onInputChange:this.onInputChange}),b.default.createElement("div",{className:"link"},b.default.createElement("span",{onClick:this.go},"去登录",b.default.createElement(R.default,{name:"right"}))),b.default.createElement("button",{type:"submit",className:"btn"},"注册")))}}]),t}(b.default.Component);O.propTypes={history:N.default.object,signup:N.default.func},t.default=(0,S.connect)(null,{signup:z.signup})(O)},Jcrk:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("t4GW"),g=a(v),y=n("nknE"),w=a(y),E=n("XrI8"),_=a(E);n("WNaX");var k=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.open=function(){n.setState({show:!0})},n.close=function(){n.setState({show:!1})},n.setOption=function(){var e=n.props.options.length,t=Math.round(n.state.translateY/n.height);t=t>0?0:t,t=-t<=e-1?t:-(e-1),n.currentIndex=Math.abs(t),n.setState({translateY:t*n.height})},n.selectOption=function(e){n.setState({translateY:-n.height*e}),n.currentIndex=e},n.handleTouchstart=function(e){n.touching=!0,n.startY=e.touches[0].pageY,n.startTranslateY=n.state.translateY},n.handleTouchmove=function(e){n.dy=e.touches[0].pageY-n.startY,n.setState({translateY:n.dy+n.startTranslateY})},n.handleTouchend=function(e){n.touching=!1,n.setOption()},n.confirm=function(){n.props.onConfirm(n.props.options[n.currentIndex]),n.close()},n.state={show:!1,translateY:0},n.startY=0,n.startTranslateY=0,n.currentIndex=0,n.height=42,n.touching=!1,n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.initOption()}},{key:"initOption",value:function(){this.setState({translateY:-this.height*this.props.index}),this.currentIndex=this.props.index}},{key:"render",value:function(){var e=this,t=h.default.createElement("div",{className:"picker",onClick:this.close},h.default.createElement("div",{className:"content",onClick:function(e){return e.stopPropagation()}},h.default.createElement("div",{className:"header"},h.default.createElement("div",{className:"cancel",onClick:this.close},"取消"),h.default.createElement("div",{className:"sure",onClick:this.confirm},"确定")),h.default.createElement("div",{className:"main",onTouchStart:this.handleTouchstart,onTouchMove:this.handleTouchmove,onTouchEnd:this.handleTouchend},h.default.createElement("div",{className:"select"}),h.default.createElement("ul",{style:{transform:"translate3d(0, "+this.state.translateY+"px, 0)",transition:this.touching?"":"all .4s"}},h.default.createElement("li",null),h.default.createElement("li",null),h.default.createElement("li",null),this.props.options.map(function(t,n){return h.default.createElement("li",{onClick:e.selectOption.bind(e,n),key:n,className:(0,_.default)({current:t===e.props.options[e.currentIndex],one:1===Math.abs(n-e.currentIndex),two:2===Math.abs(n-e.currentIndex),three:3===Math.abs(n-e.currentIndex)})},t)})))));return h.default.createElement(g.default,{transitionName:"popup",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.show&&t)}}]),t}(h.default.Component);k.propTypes={options:w.default.array,onConfirm:w.default.func,index:w.default.number},k.defaultProps={options:[0,1,2,3,4,5,6],index:0},t.default=k},JkW7:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("xprl"),s=a(r),u=n("RE2L"),o=a(u),l=n("07LN"),i=n("jaaj"),c=n("gXwj"),d=a(c),f=n("vdRI"),p=a(f),m=n("z5PC"),h=n("FfHP"),v=a(h),g=n("wvc3"),y=n("dkoj"),w=a(y);n("bhTA"),n("0avv");var E=n("sZwr");p.default.dispatch((0,E.receiveMessage)()),w.default.getItem(g.jsonWebToken)&&p.default.dispatch((0,m.setCurrentUser)((0,v.default)(w.default.getItem(g.jsonWebToken)))),o.default.render(s.default.createElement(l.Provider,{store:p.default},s.default.createElement(i.BrowserRouter,null,d.default)),document.getElementById("root"))},JrEj:function(e,t){e.exports='<svg t="1528985517201" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1947" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M486.4 563.2c-155.2896 0-281.6-126.3104-281.6-281.6s126.3104-281.6 281.6-281.6 281.6 126.3104 281.6 281.6-126.3104 281.6-281.6 281.6zM486.4 51.2c-127.0272 0-230.4 103.3728-230.4 230.4s103.3728 230.4 230.4 230.4c127.0272 0 230.4-103.3728 230.4-230.4s-103.3728-230.4-230.4-230.4z" p-id="1948"></path><path d="M896 1024l-819.2 0c-42.3424 0-76.8-34.4576-76.8-76.8 0-3.4816 0.7168-86.272 62.72-168.96 36.096-48.128 85.504-86.3744 146.8928-113.6128 74.9568-33.3312 168.0896-50.2272 276.7872-50.2272s201.8304 16.896 276.7872 50.2272c61.3888 27.2896 110.7968 65.4848 146.8928 113.6128 62.0032 82.688 62.72 165.4784 62.72 168.96 0 42.3424-34.4576 76.8-76.8 76.8zM486.4 665.6c-178.5344 0-310.272 48.7936-380.9792 141.1072-52.992 69.1712-54.1696 139.8784-54.2208 140.5952 0 14.0288 11.4688 25.4976 25.6 25.4976l819.2 0c14.1312 0 25.6-11.4688 25.6-25.6 0-0.6144-1.1776-71.3216-54.2208-140.4928-70.7584-92.3136-202.496-141.1072-380.9792-141.1072z" p-id="1949"></path></svg>'},JxW5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_CURRENT_USER="SET_CURRENT_USER",t.SET_MESSAGE_LIST="SET_MESSAGE_LIST",t.ADD_MESSAGE="ADD_MESSAGE"},MFKX:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("nknE"),g=a(v);n("9DcP");var y=function(e){function t(e){(0,o.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return a.state={icons:{back:n("SBCA"),emoji:n("i96a"),user:n("JrEj"),delete:n("yZOa"),phone:n("k7BK"),password:n("x4+A"),right:n("yDGe")}},a}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return h.default.createElement("i",{className:"icon",dangerouslySetInnerHTML:{__html:this.state.icons[this.props.name]}})}}]),t}(h.default.Component);y.propTypes={name:g.default.string.isRequired},t.default=y},Nmkr:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("nknE"),g=a(v),y=n("MFKX"),w=a(y);n("Y4gz");var E=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.avatar,n=e.text,a=e.name,r=e.rightShow,s=e.onClick;return h.default.createElement("div",{className:"my-field",onClick:s},h.default.createElement("div",{className:"left"},h.default.createElement("span",{className:"name"},a)),h.default.createElement("div",{className:"right"},t?h.default.createElement("img",{className:"avatar",src:t}):h.default.createElement("span",{className:"text"},n),r?h.default.createElement(w.default,{name:"right"}):h.default.createElement("div",{className:"blank"})))}}]),t}(h.default.Component);E.propTypes={avatar:g.default.string,text:g.default.string,name:g.default.string,rightShow:g.default.bool,onClick:g.default.func},E.defaultProps={rightShow:!0},t.default=E},Qpw7:function(e,t,n){"use strict";var a=n("EHrm");e.exports={host:"localhost",port:2004,cookie:{keys:["APdtVf2BKugFEPO0gWQgaT0GmbWge10ZvUnRAMgBLU","JRhNhZ5ru9wNY1BEqtmvfClL2zxyIr7To12k5bySm8"],maxAge:2592e6,prefix:"s:",secure:!1},mongo:{host:"localhost",port:27017},redis:{host:"localhost",port:6379,db:0},log:{level:"trace"},jwtSecret:"c29tZXNlY3JldGtleWZvcmpzb253ZWJ0b2tlbg",dir:{backend:"backend",frontend:"frontend",config:"config",logs:"logs",dist:"dist",static:"static"},qiniu:{accessKey:"lJahtgHH7ev-77u9BS2FPhTHTlLdVm6_H8cGmLWh",secretKey:"5o0tncYwhnQUXgwcIDeH4mDRxZU34dHg4z63S0kY",bucketName:"lpeihan",bucketDomain:"ouixsc2xp.bkt.clouddn.com"},app:a}},SBCA:function(e,t){e.exports='<svg t="1527820109123" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12836" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M156.608 487.8592c1.156267-1.137067 2.648533-1.6224 3.918933-2.558933l306.666667-301.569067c13.195733-12.970667 34.586667-12.970667 47.781333 0 13.194667 12.978133 13.194667 34.013867 0 46.987733L263.3024 478.210133l579.2032 0c18.978133 0 34.362667 15.128533 34.362667 33.789867 0 18.6624-15.384533 33.793067-34.362667 33.793067L263.3024 545.793067l251.671467 247.486933c13.194667 12.971733 13.194667 34.010667 0 46.984533-13.194667 12.974933-34.586667 12.974933-47.781333 0l-306.666667-301.5616c-1.269333-0.939733-2.762667-1.421867-3.918933-2.562133-6.334933-6.2304-9.240533-14.340267-9.477333-22.5024C147.367467 502.200533 150.273067 494.090667 156.608 487.8592L156.608 487.8592zM156.608 487.8592" p-id="12837"></path></svg>'},StoJ:function(e,t){},"TyI/":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("nknE"),g=a(v),y=n("MFKX"),w=a(y);n("7ahg");var E=function(e){function t(){var e,n,a,r;(0,o.default)(this,t);for(var u=arguments.length,l=Array(u),i=0;i<u;i++)l[i]=arguments[i];return n=a=(0,d.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(l))),a.back=function(){history.go(-1)},r=n,(0,d.default)(a,r)}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"navbar"},h.default.createElement("div",{className:"left",onClick:this.back},h.default.createElement(w.default,{name:"back"})),h.default.createElement("div",{className:"middle"},this.props.title),h.default.createElement("div",{className:"right"}))}}]),t}(h.default.Component);E.propTypes={title:g.default.string},E.defaultProps={title:""},E.contextTypes={router:g.default.object},t.default=E},U9q5:function(e,t){},WNaX:function(e,t){},X7LF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["呵呵","哈哈","吐舌","啊","酷","怒","开心","汗","泪","黑线","鄙视","不高兴","真棒","钱","疑问","阴险","吐","咦","委屈","花心","呼","笑眼","冷","太开心","滑稽","勉强","狂汗","乖","睡觉","惊哭","升起","惊讶","喷","爱心","心碎","玫瑰","礼物","星星月亮","太阳","音乐","灯泡","蛋糕","彩虹","钱币","咖啡","haha","胜利","大拇指","弱","ok"]},XYr9:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("aMHb"),s=a(r),u=n("bZQ3"),o=a(u),l=n("gs4M"),i=a(l),c=n("roKr"),d=a(c),f=n("FXHS"),p=a(f),m=n("BUKd"),h=a(m),v=n("3wdz"),g=a(v),y=n("pdQP"),w=a(y),E=n("8JMs"),_=a(E),k=n("gEZ1"),x=a(k);n("aYQW");var M=n("xprl"),b=a(M),C=n("nknE"),N=a(C),S=n("07LN"),T=n("z5PC"),j=n("gSIr"),I=a(j),P=n("TyI/"),L=a(P),R=n("MFKX"),z=a(R);n("c+RJ");var O=function(e){function t(e){var n=this;(0,g.default)(this,t);var a=(0,_.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return a.go=function(){a.props.history.replace("/signup")},a.login=function(){var e=(0,p.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,a.props.login({username:a.username.value,password:a.password.value});case 4:d.default.success("登陆成功",2),a.props.history.replace("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({errors:e.t0});case 11:case"end":return e.stop()}},e,n,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.onInputChange=function(e){a.setState({errors:(0,o.default)(a.state.errors,(0,s.default)({},e.target.name,""))})},a.state={errors:{username:"",password:""}},a}return(0,x.default)(t,e),(0,w.default)(t,[{key:"render",value:function(){var e=this;return b.default.createElement("div",{className:"login"},b.default.createElement(L.default,{title:"登录"}),b.default.createElement("form",{className:"form",onSubmit:this.login},b.default.createElement(I.default,{name:"username",icon:"phone",placeholder:"请输入用户名",inputRef:function(t){return e.username=t},errorText:this.state.errors.username,onInputChange:this.onInputChange}),b.default.createElement(I.default,{icon:"password",type:"password",placeholder:"请输入密码",inputRef:function(t){return e.password=t},errorText:this.state.errors.password,onInputChange:this.onInputChange}),b.default.createElement("div",{className:"link"},b.default.createElement("span",{onClick:this.go},"去注册",b.default.createElement(z.default,{name:"right"}))),b.default.createElement("button",{type:"submit",className:"btn"},"登录")))}}]),t}(b.default.Component);O.propTypes={history:N.default.object,login:N.default.func},t.default=(0,S.connect)(null,{login:T.login})(O)},Y4gz:function(e,t){},YNVh:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f);t.default=function(e){var t=function(t){function n(){return(0,o.default)(this,n),(0,d.default)(this,(n.__proto__||(0,s.default)(n)).apply(this,arguments))}return(0,p.default)(n,t),(0,i.default)(n,[{key:"componentWillMount",value:function(){this.props.isAuth||this.context.router.history.push("/login")}},{key:"componentWillUpdate",value:function(e){e.isAuth||e.history.push("/login")}},{key:"render",value:function(){return h.default.createElement(e,this.props)}}]),n}(h.default.Component);t.propTypes={isAuth:y.default.bool.isRequired},t.contextTypes={router:y.default.object.isRequired};var n=function(e){return{isAuth:e.auth.isAuth}};return(0,v.connect)(n)(t)};var m=n("xprl"),h=a(m),v=n("07LN"),g=n("nknE"),y=a(g)},"a0+s":function(e,t){},bB8c:function(e,t){},bhTA:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("io2r"),s=a(r),u=n("roKr"),o=a(u);n("aYQW");var l=n("ZsBY"),i=a(l),c=n("dkoj"),d=a(c),f=n("z5PC"),p=n("vdRI"),m=a(p),h=n("wvc3");i.default.defaults.baseURL="api",i.default.interceptors.request.use(function(e){return o.default.loading("加载中...",0),d.default.getItem(h.jsonWebToken)&&(e.headers.Authorization="Bearer "+d.default.getItem(h.jsonWebToken)),e},function(e){return s.default.reject(e)}),i.default.interceptors.response.use(function(e){return o.default.hide(),e},function(e){if(o.default.hide(),e.response)switch(e.response.status){case 401:m.default.dispatch((0,f.logout)())}return s.default.reject(e.response.data)}),t.default=i.default},brqL:function(e,t){},"c+RJ":function(e,t){},d4Xu:function(e,t){},dkoj:function(e,t,n){"use strict";function a(e){return(0,u.default)(e)}function r(e){try{return JSON.parse(e)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0});var s=n("iKzx"),u=function(e){return e&&e.__esModule?e:{default:e}}(s),o={store:window.localStorage,getItem:function(e){return r(this.store.getItem(e))},setItem:function(e,t){return this.store.setItem(e,a(t)),t},removeItem:function(e){this.store.removeItem(e)}};t.default=o},gSIr:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("BUKd"),s=a(r),u=n("3wdz"),o=a(u),l=n("pdQP"),i=a(l),c=n("8JMs"),d=a(c),f=n("gEZ1"),p=a(f),m=n("xprl"),h=a(m),v=n("nknE"),g=a(v),y=n("MFKX"),w=a(y);n("d4Xu");var E=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.change=function(e){n.setState({value:e.target.value}),n.props.onInputChange(e)},n.clear=function(e){n.setState({value:""})},n.state={value:""},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"field"},h.default.createElement("div",{className:"input-wrapper"},h.default.createElement("div",{className:"left-icon"},h.default.createElement(w.default,{name:this.props.icon})),h.default.createElement("input",{className:"input",placeholder:this.props.placeholder,name:this.props.name,ref:this.props.inputRef,value:this.state.value,onChange:this.change,type:this.props.type}),h.default.createElement("div",{className:"delete-icon",onClick:this.clear},this.state.value&&h.default.createElement(w.default,{name:"delete"}))),h.default.createElement("div",{className:"error-text"},this.props.errorText))}}]),t}(h.default.Component);E.propTypes={placeholder:g.default.string,errorText:g.default.string,icon:g.default.string,type:g.default.string,name:g.default.string,inputRef:g.default.func,onInputChange:g.default.func},E.defaultProps={placeholder:"filed",errorText:"",icon:"phone",type:"text",name:"",onInputChange:function(){}},t.default=E},gXO7:function(e,t){},gXwj:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("xprl"),s=a(r),u=n("jaaj"),o=n("6Jhy"),l=a(o),i=n("XYr9"),c=a(i),d=n("HkXN"),f=a(d),p=n("YNVh"),m=a(p),h=n("hogA"),v=a(h);t.default=s.default.createElement("div",null,s.default.createElement(u.Route,{exact:!0,path:"/",component:(0,m.default)(l.default)}),s.default.createElement(u.Route,{path:"/login",component:c.default}),s.default.createElement(u.Route,{path:"/signup",component:f.default}),s.default.createElement(u.Route,{path:"/my",component:(0,m.default)(v.default)}))},hogA:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("gs4M"),s=a(r),u=n("roKr"),o=a(u),l=n("FXHS"),i=a(l),c=n("BUKd"),d=a(c),f=n("3wdz"),p=a(f),m=n("pdQP"),h=a(m),v=n("8JMs"),g=a(v),y=n("gEZ1"),w=a(y);n("aYQW");var E=n("xprl"),_=a(E),k=n("07LN"),x=n("nknE"),M=a(x),b=n("z5PC"),C=n("TyI/"),N=a(C),S=n("Nmkr"),T=a(S),j=n("o9F0"),I=a(j),P=n("5B+t"),L=a(P),R=n("Jcrk"),z=a(R);n("GrKR");var O=function(e){function t(){var e,n,a,r,u=this;(0,p.default)(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=a=(0,g.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(c))),a.openUploadImage=function(){a.refs.uploadImage.open()},a.uploadCompleted=function(){var e=(0,i.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.modifyMyInfo({avatar:t});case 2:o.default.success("头像修改成功",2);case 3:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}(),a.openConfirm=function(){a.refs.confirm.open()},a.openPicker=function(){a.refs.picker.open()},a.confirmLogout=function(){a.props.logout()},a.confirmPicker=function(){var e=(0,i.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.modifyMyInfo({sex:"男"===t?0:1});case 2:o.default.success("信息修改成功",2);case 3:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}(),r=n,(0,g.default)(a,r)}return(0,w.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"my"},_.default.createElement(N.default,{title:"我的"}),_.default.createElement(T.default,{name:"头像",avatar:this.props.user.avatar,onClick:this.openUploadImage}),_.default.createElement(T.default,{name:"用户名",text:this.props.user.username}),_.default.createElement(T.default,{name:"性别",text:this.props.user.sex?"女":"男",onClick:this.openPicker}),_.default.createElement(I.default,{ref:"uploadImage",onUploadCompleted:this.uploadCompleted}),_.default.createElement("div",{className:"logout",onClick:this.openConfirm},"退出登录"),_.default.createElement(L.default,{ref:"confirm",onConfrim:this.confirmLogout}),_.default.createElement(z.default,{ref:"picker",options:["男","女"],onConfirm:this.confirmPicker,index:this.props.user.sex}))}}]),t}(_.default.Component);O.propTypes={user:M.default.object,logout:M.default.func,modifyMyInfo:M.default.func};var B=function(e){return{user:e.auth.user}};t.default=(0,k.connect)(B,{logout:b.logout,modifyMyInfo:b.modifyMyInfo})(O)},i96a:function(e,t){e.exports='<svg t="1528963791728" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1989" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M512 0C229.69344 0 0 229.69344 0 512s229.69344 512 512 512 512-229.69344 512-512S794.30656 0 512 0z m0 967.10656C261.05856 967.10656 56.89344 762.94144 56.89344 512S261.05856 56.89344 512 56.89344 967.10656 261.05856 967.10656 512 762.94144 967.10656 512 967.10656z" p-id="1990"></path><path d="M774.22592 651.53024C716.032 724.46976 618.00448 768 512 768s-204.05248-43.55072-262.22592-116.46976a28.44672 28.44672 0 1 0-44.50304 35.44064C274.13504 773.33504 388.80256 824.89344 512 824.89344s237.80352-51.52768 306.66752-137.86112a28.440576 28.440576 0 0 0-44.4416-35.50208z" p-id="1991"></path><path d="M284.44672 398.22336m-56.89344 0a56.89344 56.89344 0 1 0 113.78688 0 56.89344 56.89344 0 1 0-113.78688 0Z" p-id="1992"></path><path d="M739.55328 398.22336m-56.89344 0a56.89344 56.89344 0 1 0 113.78688 0 56.89344 56.89344 0 1 0-113.78688 0Z" p-id="1993"></path></svg>'},jNFJ:function(e,t,n){e.exports=n.p+"static/images/emojis.bd067c1.png"},k7BK:function(e,t){e.exports='<svg t="1529471848029" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3002" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M512 884.053333c-40.96 0-75.093333-34.133333-75.093333-75.093333s34.133333-75.093333 75.093333-75.093333 75.093333 34.133333 75.093333 75.093333S552.96 884.053333 512 884.053333zM512 771.413333c-20.48 0-37.546667 17.066667-37.546667 37.546667s17.066667 37.546667 37.546667 37.546667c20.48 0 37.546667-17.066667 37.546667-37.546667S532.48 771.413333 512 771.413333zM679.253333 993.28c-3.413333 0-6.826667 0-10.24-3.413333-40.96-23.893333-109.226667-23.893333-109.226667-23.893333l0 0L276.48 965.973333c-54.613333 0-98.986667-44.373333-98.986667-98.986667L177.493333 139.946667c0-54.613333 44.373333-98.986667 98.986667-98.986667l471.04 0c54.613333 0 98.986667 44.373333 98.986667 98.986667l0 727.04c0 54.613333-44.373333 98.986667-98.986667 98.986667-10.24 0-17.066667-6.826667-17.066667-17.066667s6.826667-17.066667 17.066667-17.066667c34.133333 0 61.44-27.306667 61.44-61.44L808.96 139.946667c0-34.133333-27.306667-61.44-61.44-61.44L276.48 78.506667c-34.133333 0-61.44 27.306667-61.44 61.44l0 727.04c0 34.133333 27.306667 61.44 61.44 61.44l283.306667 0c3.413333 0 78.506667 0 126.293333 30.72 10.24 6.826667 10.24 17.066667 6.826667 23.893333C692.906667 989.866667 686.08 993.28 679.253333 993.28zM590.506667 150.186667l-153.6 0c-10.24 0-17.066667-6.826667-17.066667-17.066667s6.826667-17.066667 17.066667-17.066667l153.6 0c10.24 0 17.066667 6.826667 17.066667 17.066667C607.573333 139.946667 600.746667 150.186667 590.506667 150.186667z" p-id="3003"></path></svg>'},o9F0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("gs4M"),s=a(r),u=n("FXHS"),o=a(u),l=n("BUKd"),i=a(l),c=n("3wdz"),d=a(c),f=n("pdQP"),p=a(f),m=n("8JMs"),h=a(m),v=n("gEZ1"),g=a(v),y=n("xprl"),w=a(y),E=n("t4GW"),_=a(E),k=n("7dE6"),x=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(k),M=n("ZsBY"),b=a(M),C=n("DHvs"),N=n("nknE"),S=a(N);n("brqL");var T=function(e){function t(e){var n=this;(0,d.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.open=function(){a.setState({show:!0})},a.close=function(){a.setState({show:!1})},a.uploadCompleted=function(e){a.props.onUploadCompleted(e)},a.changeFile=function(){var e=(0,o.default)(s.default.mark(function e(t){var r,u,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,u=t.target.files[0],l=new FileReader,l.readAsArrayBuffer(u),l.onloadend=(0,o.default)(s.default.mark(function e(){var t,n,a,o,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.get("/qiniu");case 2:t=e.sent.data,n=t.token,a=t.domain,o=new Blob([new Uint8Array(this.result)],{type:u.type}),l=x.upload(o,"avatar/"+Date.now()+"_"+(0,C.getRandom)(1e3,9999),n,{},{region:x.region.z2}),l.subscribe({error:function(e){console.log(e)},complete:function(e){r.uploadCompleted("http://"+a+"/"+e.key),r.close()}});case 8:case"end":return e.stop()}},e,this)}));case 5:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}(),a.state={show:!1,avatar:""},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=w.default.createElement("div",{className:"upload-image",onClick:this.close},w.default.createElement("div",{className:"content"},w.default.createElement("div",{className:"photos",onClick:function(e){return e.stopPropagation()}},w.default.createElement("input",{type:"file",accept:"image/*",onChange:this.changeFile}),w.default.createElement("p",null,"从相册选择")),w.default.createElement("div",{className:"camera"},w.default.createElement("input",{type:"file",accept:"image/*",capture:"camera"}),w.default.createElement("p",null,"照相机")),w.default.createElement("div",{className:"cancel"},"取消")));return w.default.createElement(_.default,{transitionName:"popup",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.show&&e)}}]),t}(w.default.Component);T.propTypes={onUploadCompleted:S.default.func},t.default=T},owum:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("19NE"),s=n("/qNe"),u=a(s),o=n("BLtG"),l=a(o),i=(0,r.combineReducers)({auth:u.default,message:l.default});t.default=i},raSm:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("boZS"),s=a(r),u=n("Qpw7"),o=(a(u),void 0);o=(0,s.default)(),t.default=o},sZwr:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this;return function(){var t=(0,c.default)(l.default.mark(function t(n){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.get("/messages");case 2:a=e.sent,n({type:p.SET_MESSAGE_LIST,messages:a.data});case 4:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}function s(e){var t=this;return function(){var n=(0,c.default)(l.default.mark(function n(a){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h.default.emit("send-message",e);case 1:case"end":return t.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()}function u(){var e=this;return function(){var t=(0,c.default)(l.default.mark(function t(n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h.default.on("receive-message",function(e){n({type:p.ADD_MESSAGE,message:e})});case 1:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var o=n("gs4M"),l=a(o),i=n("FXHS"),c=a(i);t.getMessageList=r,t.sendMessage=s,t.receiveMessage=u;var d=n("ZsBY"),f=a(d),p=n("JxW5"),m=n("raSm"),h=a(m)},urSx:function(e,t){},vdRI:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("19NE"),s=n("c3cf"),u=(a(s),n("tnnb"),n("pv05")),o=a(u),l=n("owum"),i=a(l),c=void 0;c=(0,r.createStore)(i.default,{},(0,r.applyMiddleware)(o.default)),t.default=c},wvc3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.jsonWebToken="JSON_WEB_TOKEN",t.qiniu="http://ouixsc2xp.bkt.clouddn.com"},"x4+A":function(e,t){e.exports='<svg t="1529474329101" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3704" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M819.2 391.68l-12.8 0 0-120.32C793.6 120.32 668.16 0 512 0S230.4 120.32 217.6 271.36l0 120.32L204.8 391.68c-56.32 0-104.96 46.08-104.96 104.96l0 424.96C99.84 977.92 145.92 1024 204.8 1024L819.2 1024c56.32 0 104.96-46.08 104.96-104.96L924.16 494.08C924.16 437.76 878.08 391.68 819.2 391.68zM268.8 271.36C279.04 148.48 384 51.2 512 51.2s232.96 97.28 243.2 220.16l0 120.32L266.24 391.68 268.8 271.36zM872.96 919.04c0 28.16-23.04 53.76-53.76 53.76L204.8 972.8c-28.16 0-53.76-23.04-53.76-53.76L151.04 494.08c0-28.16 23.04-53.76 53.76-53.76l12.8 0 51.2 0 488.96 0 51.2 0L819.2 440.32c28.16 0 53.76 23.04 53.76 53.76L872.96 919.04z" p-id="3705"></path><path d="M509.44 565.76c-46.08 0-84.48 38.4-84.48 84.48 0 28.16 15.36 56.32 38.4 69.12L463.36 793.6c0 25.6 20.48 46.08 46.08 46.08s46.08-20.48 46.08-46.08l0-71.68c23.04-15.36 38.4-40.96 38.4-69.12C593.92 604.16 558.08 565.76 509.44 565.76zM532.48 704l0 25.6c0 0 0 0 2.56 0l-2.56 0L532.48 793.6c0 10.24-10.24 20.48-20.48 20.48s-20.48-10.24-20.48-20.48l0-61.44 0 0 0-25.6c-23.04-7.68-38.4-30.72-38.4-53.76 0-33.28 25.6-58.88 58.88-58.88s58.88 25.6 58.88 58.88C568.32 675.84 552.96 696.32 532.48 704z" p-id="3706"></path></svg>'},xXwi:function(e,t){},yDGe:function(e,t){e.exports='<svg t="1529476003731" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4508" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M642.174253 504.59418C650.164439 511.835287 650.070886 522.174253 641.84009 529.376198L332.618569 799.94503C323.751654 807.703582 322.853148 821.181184 330.611697 830.048098 338.370249 838.915012 351.847851 839.813519 360.714765 832.05497L669.936288 561.486138C697.36486 537.486138 697.727953 497.358861 670.825747 472.978737L360.992414 192.192278C352.26205 184.280386 338.770837 184.943889 330.858944 193.674252 322.947053 202.404616 323.610556 215.895829 332.340919 223.807723L642.174253 504.59418Z" p-id="4509"></path></svg>'},yZOa:function(e,t){e.exports='<svg t="1527988947710" class="icon" style viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2957" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M512 557.223994l249.203712 249.203712c12.491499 12.491499 32.730449 12.489452 45.221948-0.002047s12.493545-32.730449 0.002047-45.221948L557.223994 512l249.203712-249.203712c12.491499-12.491499 12.489452-32.730449-0.002047-45.221948s-32.730449-12.493545-45.221948-0.002047L512 466.776006 262.796288 217.572294c-12.491499-12.491499-32.729425-12.490475-45.220924 0.001023-6.246261 6.246261-9.370415 14.429641-9.370415 22.610974s3.121084 16.365736 9.367345 22.610974L466.774983 512 217.572294 761.203712c-6.246261 6.246261-9.367345 14.428617-9.367345 22.610974s3.125177 16.365736 9.370415 22.610974c12.491499 12.491499 32.729425 12.493545 45.220924 0.002047L512 557.223994z" p-id="2958"></path></svg>'},z5PC:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.modifyMyInfo=t.logout=t.login=t.signup=t.setCurrentUser=void 0;var r=n("gs4M"),s=a(r),u=n("FXHS"),o=a(u),l=n("ZsBY"),i=a(l),c=n("FfHP"),d=a(c),f=n("dkoj"),p=a(f),m=n("DHvs"),h=n("wvc3"),v=n("JxW5"),g=t.setCurrentUser=function(e){return{type:v.SET_CURRENT_USER,user:e}};t.signup=function(e){return function(){var t=(0,o.default)(s.default.mark(function t(n){var a,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.avatar=h.qiniu+"/avatar_"+(0,m.getRandom)(1,22)+".png",t.next=3,i.default.post("/users/signup",e);case 3:a=t.sent,r=a.data,p.default.setItem(h.jsonWebToken,r),n(g((0,d.default)(r)));case 7:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.login=function(e){return function(){var t=(0,o.default)(s.default.mark(function t(n){var a,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.post("/users/login",e);case 2:a=t.sent,r=a.data,p.default.setItem(h.jsonWebToken,r),n(g((0,d.default)(r)));case 6:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},t.logout=function(){return function(e){p.default.removeItem(h.jsonWebToken),e(g({}))}},t.modifyMyInfo=function(e){return function(){var t=(0,o.default)(s.default.mark(function t(n){var a,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.post("/users/my",e);case 2:a=t.sent,r=a.data,p.default.setItem(h.jsonWebToken,r),n(g((0,d.default)(r)));case 6:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}}},[0]);
//# sourceMappingURL=app.cd5b6147660c618363e4.js.map